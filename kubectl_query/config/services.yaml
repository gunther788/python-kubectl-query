---

tables:

  endpointslices:
    note: EndpointSlices with clusterIPs and ports
    api_version: v1
    kind: EndpointSlice
    fields:
      endpoint: "$.metadata.name"
      namespace: "$.metadata.namespace"
      addresses:
        kind: "$.endpoints[*].targetRef.kind"
        pod: "$.endpoints[*].targetRef.name"
        podip: "$.endpoints[*].addresses[*]"
      ports:
        port: "$.ports[*].port"
        protocol: "$.ports[*].protocol"

queries:

  endpoints-pods-nodes:
    note: Details of clusterIPs on various nodes
    tables:
      - endpointslices
      - pods-ports
